## å›¢é˜Ÿè§„èŒƒ

æ¯ä¸ªç ”å‘å›¢é˜Ÿéƒ½éœ€è¦æœ‰è‡ªå·±çš„ä»£ç è§„èŒƒ,è¿™æ ·æ‰èƒ½å¤Ÿç»Ÿä¸€æ¯ä¸ªäººä¹¦å†™ä»£ç æ ¼å¼,å‡å°‘CodeReviewçš„æ—¶é—´,æå‰æ£€æŸ¥å‡ºä¸€äº›ä¸ç¬¦åˆä»£ç è§„èŒƒçš„ä»£ç .ä¸€èˆ¬å‰ç«¯æ£€æŸ¥ä»£ç è§„èŒƒçš„ç»„åˆæ‹³éƒ½æ˜¯:eslint+lint-staged-husky+prettier.æˆ‘ä»¬æ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹æ¯ä¸ªå·¥å…·çš„ä½œç”¨.

----------------
## [eslint](https://eslint.bootcss.com/docs/user-guide/getting-started)
1. å®˜æ–¹è§£è¯»:ESLint æ˜¯åœ¨ ECMAScript/JavaScript ä»£ç ä¸­è¯†åˆ«å’ŒæŠ¥å‘Šæ¨¡å¼åŒ¹é…çš„å·¥å…·ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ä¿è¯ä»£ç çš„ä¸€è‡´æ€§å’Œé¿å…é”™è¯¯.
2. å®ç°:
- ESLint ä½¿ç”¨ Espree è§£æ JavaScriptã€‚
- ESLint ä½¿ç”¨ AST å»åˆ†æä»£ç ä¸­çš„æ¨¡å¼
- ESLint æ˜¯å®Œå…¨æ’ä»¶åŒ–çš„ã€‚æ¯ä¸€ä¸ªè§„åˆ™éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶å¹¶ä¸”ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚
3. é…ç½®
```js
.eslintrc
{
    "rules": {
        "semi": ["error", "always"],
        "quotes": ["error", "double"],
        ...
    }
}
```
4. é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸Šå‡ ç‚¹å¾—çŸ¥å¦‚æœæˆ‘ä»¬åœ¨ESlintçš„é…ç½®ä¸­é…ç½®äº†ç›¸å…³çš„è§„åˆ™,é‚£ä¹ˆeslintå°±ä¼šé€šè¿‡EspreeæŠŠæˆ‘ä»¬çš„ä»£ç è§£ææˆASTå¯¹è±¡ä¹‹å,åœ¨æ ¹æ®é…ç½®ä¸­çš„è§„åˆ™æ¥æŸ¥çœ‹æ˜¯å¦åŒ¹é…è§„åˆ™,ä¸åŒ¹é…åˆ™æ ¹æ®off/warn/erroræ¥åšå¯¹åº”çš„æç¤º.




## [prettier](https://www.prettier.cn/)
1. å®˜æ–¹è§£è¯»:Prettier is an opinionated code formatter.ç®€å•çš„æ¥è¯´Prettieræ˜¯ä¸€ä¸ªå›ºæ‰§å·±è§çš„ä»£ç æ ¼å¼åŒ–ç¨‹åº.
2. å®ç°:
- ä¹Ÿæ˜¯åˆ©ç”¨è§£æå™¨æŠŠä»£ç è§£ææˆAST,ç„¶åASTè¿›è¡Œéå†,æœ€åæ ¹æ®è§„åˆ™æ•´åˆä»£ç 
3. é…ç½®
```js
.prettierrc.js
module.exports = {
  printWidth: 100, // ä¸€è¡Œçš„å­—ç¬¦æ•°ï¼Œå¦‚æœè¶…è¿‡ä¼šè¿›è¡Œæ¢è¡Œï¼Œé»˜è®¤ä¸º80ï¼Œå®˜æ–¹å»ºè®®è®¾100-120å…¶ä¸­ä¸€ä¸ªæ•°
  tabWidth: 2, // ä¸€ä¸ªtabä»£è¡¨å‡ ä¸ªç©ºæ ¼æ•°ï¼Œé»˜è®¤å°±æ˜¯2
  useTabs: false, // å¯ç”¨tabå–ä»£ç©ºæ ¼ç¬¦ç¼©è¿›ï¼Œé»˜è®¤ä¸ºfalse
  semi: true, // ç»“å°¾åŠ ä¸Šåˆ†å·, é»˜è®¤true
  ...
};
```
4. Prettierå°±æ˜¯åˆ©ç”¨ä½ åœ¨é…ç½®ä¸­é…ç½®çš„é€‰é¡¹æ¥æ ¼å¼è¯ä½ çš„ä»£ç ,æ¯”å¦‚é•¿åº¦,æ ‡ç‚¹ç¬¦å·...


## [lint-staged](https://www.npmjs.com/package/lint-staged)
1. å®˜æ–¹è§£è¯»:Run linters against staged git files and don't let ğŸ’© slip into your code base!æ„æ€å°±æ˜¯å¯¹æš‚å­˜çš„gitæ–‡ä»¶è·‘linter,é˜²æ­¢ä¸€äº›ä¸å¥½çš„ä»£ç æºœè¿›ä½ çš„ä»£ç ä»“åº“.
2. å®ç°(https://segmentfault.com/a/1190000019466459)
3. é…ç½®
```js
.lintstagedrc 
{
  "src/**": [
      "prettier --write",
      "eslint --fix",
      "git add ."
    ]
}
```
4. å°±æ˜¯åœ¨ä½ ç»™å‡ºéœ€è¦æ ¡éªŒæ–‡ä»¶çš„èŒƒå›´,ç„¶åæ‰§è¡Œå¯¹åº”çš„å‘½ä»¤,æ¯”å¦‚prettier --writeæ¥å¸®ä½ åšä¸€äº›ä»£ç çš„æ ¼å¼åŒ–


## [husky](https://typicode.github.io/husky/#/?id=bypass-hooks)
1. Husky improves your commits and more ğŸ¶ woof! You can use it to lint your commit messages, run tests, lint code, etc... when you commit or push. Husky supports all Git hooks. huskyæ˜¯ä¸€ä¸ªGit Hookå·¥å…·.å°±æ˜¯æäº¤çš„æ—¶å€™ä¼šè§¦å‘ä¸€äº›gitçš„é’©å­,åœ¨é’©å­ä¸­åšä¸€äº›ä½ æƒ³åšçš„äº‹æƒ…(ç®€åŒ–äº†Git hooksçš„æ“ä½œ)
2. é…ç½®:
```js
.package.json
{
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged", 
    }
  }
}
```
3. å°±æ˜¯åœ¨ä½ æäº¤ä»£ç çš„æ—¶å€™,åœ¨ä¸åŒæ—¶æœŸçš„Hooké‡Œé¢åšä¸€äº›æ“ä½œ.æ¯”å¦‚commit-msg,pre-commitè¿™äº›hookæ¥å¸®åŠ©ä½ åšä¸€äº›æ ¡éªŒ.

## æ€»ç»“
æ€»çš„æ¥è¯´,eslintè´Ÿè´£ä»£ç çš„è´¨é‡å’Œè§„èŒƒ(æ¯”å¦‚ä¸€äº›å˜é‡å£°æ˜,å•åŒå¼•å·ç­‰è§„èŒƒ),prettieræ˜¯è´Ÿè´£ä»£ç çš„æ ¼å¼(è¡Œå®½,ç»“å°¾ä½¿ç”¨åˆ†å·ç­‰),lint-stagedæ˜¯è´Ÿè´£å¯»æ‰¾æŒ‡å®šèŒƒå›´å†…gitæœ¬åœ°æš‚å­˜çš„ä»£ç ,ç„¶åè¿è¡Œå¯¹åº”çš„æŒ‡ä»¤,huskyæ˜¯åœ¨ä½ æäº¤ä»£ç çš„æ—¶å€™æ‰§è¡Œgitçš„é’©å­,ç„¶åæ‰§è¡Œå¯¹åº”çš„è„šæœ¬å‘½ä»¤.


